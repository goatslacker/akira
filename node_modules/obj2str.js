var TypeSystem = require('TypeSystem');

module.exports = function obj2str(val) {
  var type = TypeSystem.getType(val);
  switch (type) {
    case 'object':
      if (val.__akira) {
        return escodegen.generate(val.__akira);
      }
      return '{ ' + Object.keys(val).map(function (key) {
        return key + ': ' + obj2str(val[key]);
      }).join(', ') + ' }';
      return obj;
    case 'array':
      return '[' + val.map(function (v) {
        return obj2str(v);
      }) + ']';
    case 'regexp':
      return RegExp.prototype.toString.call(val);
    case 'string':
      return '"' + val + '"';
    default:
      return val;
  }
}
