var crypto = require('crypto');
var increment = -1;

function genUniqueIdentifier(init, incrementor) {
  var shasum = crypto.createHash('sha1');
  var suffix = incrementor ? ++increment : '';
  shasum.update(init);
  return '_$' + shasum.digest('hex').substr(0, 6) + suffix;
}

module.exports = genUniqueIdentifier;
