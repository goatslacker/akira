// Generated by Akira v0.0.1
(function () {
  var makeArray, makeBlock, canBeConditional, ConditionalExpression, IfStatement;
  var _$tg = require('tg').tg;
  makeArray = require('makeArray');
  makeBlock = function (expr) {
    return {
      type: 'BlockStatement',
      body: makeArray(expr)
    };
  };
  canBeConditional = function (consequent, alternate) {
    return Object.prototype.toString.call(consequent) === '[object Object]' && Object.prototype.toString.call(alternate) === '[object Object]' && consequent.type !== 'ThrowStatement' && alternate.type !== 'ThrowStatement';
  };
  ConditionalExpression = function (test, consequent, alternate) {
    return {
      type: 'ConditionalExpression',
      test: test,
      consequent: consequent,
      alternate: alternate
    };
  };
  IfStatement = function (test, consequent, alternate) {
    _$tg([
      Object,
      _$tg.Or(Array, Object),
      _$tg.Or(_$tg.Maybe(Array), _$tg.Maybe(Object))
    ], [
      test,
      consequent,
      alternate
    ]);
    return _$tg(Object, function () {
      return function () {
        switch (false) {
        case !canBeConditional(consequent, alternate):
          return ConditionalExpression(test, consequent, alternate);
        default:
          return {
            type: 'IfStatement',
            test: test,
            consequent: makeBlock(consequent),
            alternate: alternate ? makeBlock(alternate) : null
          };
        }
      }.apply(this, arguments);
    }.apply(this, arguments));
  };
  return module.exports = IfStatement;
}());