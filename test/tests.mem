# Runtime tests for Memory
start = Date.now:!

# import test
import 'test/assignments.mem'
import 'test/exceptions.mem'
import 'test/if.mem'
import 'test/invocations.mem'
import 'test/list.mem'
import 'test/patterns.mem'
import 'test/regexp.mem'
import 'test/reserved.mem'
import 'test/strings.mem'
import 'test/maps.mem'
import 'test/utils.mem'
import 'test/operators.mem'
import 'test/pipeline.mem'
import 'test/comprehensions.mem'
import 'test/destructors.mem'
import 'test/oo.mem'
fact = import 'test/exporting.mem'

# export fact test
assert: 24, (fact: 4)

# Done.
end = Date.now:!

print: 'Done!'

if assert.successes
  then print: 'OK ' ++ assert.successes.length ++ ' tests'
  else none

if assert.failures.length
  then {
    print: 'FAIL ' ++ assert.failures.length ++ ' tests'
    print: assert.failures
  }
  else none

print: 'Time ' ++ end - start ++ 'ms'
