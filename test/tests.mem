# Runtime tests for Memory

# import test
import 'test/assignments.mem'
import 'test/exceptions.mem'
import 'test/fact.mem'
import 'test/if.mem'
import 'test/invocations.mem'
import 'test/list.mem'
import 'test/patterns.mem'
import 'test/regexp.mem'
import 'test/reserved.mem'
import 'test/strings.mem'
import 'test/tuples.mem'
import 'test/utils.mem'
import 'test/exporting.mem'

eq: my-k, 3 | assert
eq: my-a, 2 | assert
my-id: 5 | eq: @, 5 | assert

# export fact test
eq: 24, (fact: 4) | assert

# sum and prod
eq: 2, (sum: 1, 1) | assert
eq: 4, (prod: 2, 2) | assert

-> (
  b = 'hello-world'
  c = b.replace: /-([a-z])/g, (\i -> i.2.toUpperCase:!)
  assert: c == 'helloWorld'
)


# Done.
print:'All tests completed'
