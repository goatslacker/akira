fact(n) -> (
  apply(a) -> [a, n]
  call(n) -> fact: n - 1
  res = [n == 1, return, call] | if
  res: n | apply | prod
)
