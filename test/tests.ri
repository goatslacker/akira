fibcall(n) -> {
  one = fib: n - 1
  two = fib: n - 2
  [one, two] | sum
}

fib(n) -> {
  res = if: n < 1, return, fibcall
  res: n
}

fact(n) -> {
  apply(a) -> [a, n]
  call(n) -> fact: n - 1
  res = [n == 1, return, call] | if
  res: n | apply | prod
}

[4] | fact | print
