Base = require: './base'

object Map #{
  init = (fn [obj] this.obj = obj)
  compile = (fn [context] {
    properties = if this.obj
      then this.obj.args.map: (fn [arg] {
        key = Base.compile-value: arg.id, context
        value = Base.compile-value: arg.val, context

        #{
          type = 'Property'
          key
          value
        }
      })
      else []

    #{
      type = 'ObjectExpression'
      properties
    }
  })
}

export Map
